(()=>{"use strict";var e,o={214:()=>{const e=window.wp.blocks,o=window.wp.i18n,i=window.wp.blockEditor,l=window.wp.components,a=window.ReactJSXRuntime,s=JSON.parse('{"UU":"somira/enhanced-video"}');(0,e.registerBlockType)(s.UU,{edit:function({attributes:e,setAttributes:s}){const{src:n,id:r,poster:t,controls:c=!0,autoplay:d=!1,loop:h=!1,muted:u=!1,customThumbnail:m,customPlayIcon:p}=e,v=(0,i.useBlockProps)({className:"wp-block-somira-enhanced-video"}),x=e=>{s({src:e.url,id:e.id,poster:e.poster||""})},j=()=>{s({customThumbnail:null})},y=()=>{s({customPlayIcon:null})};return n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.BlockControls,{children:(0,a.jsx)(l.Toolbar,{children:(0,a.jsx)(i.MediaUploadCheck,{children:(0,a.jsx)(i.MediaUpload,{onSelect:x,allowedTypes:["video"],value:r,render:({open:e})=>(0,a.jsx)(l.ToolbarButton,{onClick:e,label:(0,o.__)("Replace video","somira"),icon:"edit"})})})})}),(0,a.jsxs)(i.InspectorControls,{children:[(0,a.jsxs)(l.PanelBody,{title:(0,o.__)("Video Settings","somira"),initialOpen:!0,children:[(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Controls","somira"),checked:c,onChange:e=>s({controls:e})}),(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Autoplay","somira"),checked:d,onChange:e=>s({autoplay:e})}),(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Loop","somira"),checked:h,onChange:e=>s({loop:e})}),(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Muted","somira"),checked:u,onChange:e=>s({muted:e})})]}),(0,a.jsx)(l.PanelBody,{title:(0,o.__)("Custom Thumbnail","somira"),initialOpen:!1,children:(0,a.jsx)(i.MediaUploadCheck,{children:(0,a.jsx)(i.MediaUpload,{onSelect:e=>{s({customThumbnail:{id:e.id,url:e.url,alt:e.alt||""}})},allowedTypes:["image"],value:m?.id,render:({open:e})=>(0,a.jsx)("div",{children:m?(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:m.url,alt:m.alt,style:{maxWidth:"100%",height:"auto",marginBottom:"10px"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Button,{onClick:e,variant:"secondary",style:{marginRight:"10px"},children:(0,o.__)("Replace Thumbnail","somira")}),(0,a.jsx)(l.Button,{onClick:j,variant:"link",isDestructive:!0,children:(0,o.__)("Remove Thumbnail","somira")})]})]}):(0,a.jsx)(l.Button,{onClick:e,variant:"secondary",children:(0,o.__)("Select Thumbnail","somira")})})})})}),(0,a.jsx)(l.PanelBody,{title:(0,o.__)("Custom Play Icon","somira"),initialOpen:!1,children:(0,a.jsx)(i.MediaUploadCheck,{children:(0,a.jsx)(i.MediaUpload,{onSelect:e=>{s({customPlayIcon:{id:e.id,url:e.url,alt:e.alt||""}})},allowedTypes:["image"],value:p?.id,render:({open:e})=>(0,a.jsx)("div",{children:p?(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:p.url,alt:p.alt,style:{maxWidth:"100px",height:"auto",marginBottom:"10px"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Button,{onClick:e,variant:"secondary",style:{marginRight:"10px"},children:(0,o.__)("Replace Play Icon","somira")}),(0,a.jsx)(l.Button,{onClick:y,variant:"link",isDestructive:!0,children:(0,o.__)("Remove Play Icon","somira")})]})]}):(0,a.jsx)(l.Button,{onClick:e,variant:"secondary",children:(0,o.__)("Select Play Icon","somira")})})})})})]}),(0,a.jsx)("div",{...v,children:(0,a.jsx)("div",{className:"enhanced-video-preview",children:m?(0,a.jsxs)("div",{className:"enhanced-video-thumbnail-preview",children:[(0,a.jsx)("img",{src:m.url,alt:m.alt,className:"thumbnail-preview"}),(0,a.jsx)("div",{className:"play-button-preview",children:p?(0,a.jsx)("img",{src:p.url,alt:p.alt,className:"play-icon-preview"}):(0,a.jsx)("div",{className:"default-play-icon-preview",children:(0,a.jsxs)("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(255,255,255,0.9)"}),(0,a.jsx)("polygon",{points:"10,8 16,12 10,16",fill:"#000"})]})})})]}):(0,a.jsx)("video",{controls:c,autoPlay:d,loop:h,muted:u,poster:t,style:{width:"100%",height:"auto"},children:(0,a.jsx)("source",{src:n,type:"video/mp4"})})})})]}):(0,a.jsx)("div",{...v,children:(0,a.jsx)(l.Placeholder,{icon:"video-alt2",label:(0,o.__)("Enhanced Video","somira"),instructions:(0,o.__)("Select a video file from your media library.","somira"),children:(0,a.jsx)(i.MediaUploadCheck,{children:(0,a.jsx)(i.MediaUpload,{onSelect:x,allowedTypes:["video"],render:({open:e})=>(0,a.jsx)(l.Button,{onClick:e,variant:"primary",children:(0,o.__)("Media Library","somira")})})})})})},save:function({attributes:e}){const{src:o,poster:l,controls:s=!0,autoplay:n=!1,loop:r=!1,muted:t=!1,customThumbnail:c,customPlayIcon:d}=e,h=i.useBlockProps.save({className:"wp-block-somira-enhanced-video"});if(!o)return null;const u={controls:s,...n&&{autoplay:!0},...r&&{loop:!0},...t&&{muted:!0},...l&&{poster:l}},m=()=>(0,a.jsxs)("svg",{className:"default-play-icon",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(255,255,255,0.9)",stroke:"rgba(0,0,0,0.1)",strokeWidth:"1"}),(0,a.jsx)("polygon",{points:"10,8 16,12 10,16",fill:"#000"})]});return(0,a.jsx)("div",{...h,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"enhanced-video-thumbnail-container",children:[(0,a.jsx)("img",{src:c.url,alt:c.alt||"",className:"enhanced-video-thumbnail"}),(0,a.jsx)("button",{type:"button",className:"enhanced-video-play-button","aria-label":"Play video",children:d?(0,a.jsx)("img",{src:d.url,alt:d.alt||"Play",className:"custom-play-icon"}):(0,a.jsx)(m,{})})]}),(0,a.jsx)("div",{className:"enhanced-video-modal","aria-hidden":"true",role:"dialog","aria-modal":"true",children:(0,a.jsx)("div",{className:"enhanced-video-modal-backdrop",children:(0,a.jsxs)("div",{className:"enhanced-video-modal-content",children:[(0,a.jsx)("button",{type:"button",className:"enhanced-video-modal-close","aria-label":"Close video",children:(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,a.jsx)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsxs)("video",{className:"enhanced-video-player",...u,children:[(0,a.jsx)("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]})]})})})]}):(0,a.jsxs)("video",{className:"enhanced-video-player direct",...u,children:[(0,a.jsx)("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]})})}})}},i={};function l(e){var a=i[e];if(void 0!==a)return a.exports;var s=i[e]={exports:{}};return o[e](s,s.exports,l),s.exports}l.m=o,e=[],l.O=(o,i,a,s)=>{if(!i){var n=1/0;for(d=0;d<e.length;d++){for(var[i,a,s]=e[d],r=!0,t=0;t<i.length;t++)(!1&s||n>=s)&&Object.keys(l.O).every(e=>l.O[e](i[t]))?i.splice(t--,1):(r=!1,s<n&&(n=s));if(r){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,a,s]},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};l.O.j=o=>0===e[o];var o=(o,i)=>{var a,s,[n,r,t]=i,c=0;if(n.some(o=>0!==e[o])){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(t)var d=t(l)}for(o&&o(i);c<n.length;c++)s=n[c],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(d)},i=globalThis.webpackChunksomira_theme=globalThis.webpackChunksomira_theme||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))})();var a=l.O(void 0,[350],()=>l(214));a=l.O(a)})();